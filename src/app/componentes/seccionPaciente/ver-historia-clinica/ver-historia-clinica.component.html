<div class="VentanaNivel1">

  <h2>Historia clínica</h2>

  <div class="reportes-container"
       *ngIf="reportesLocal.length > 0; else sinReportes">

    <div class="reporte-card"
         *ngFor="let r of reportesLocal">

      <!-- CABECERA -->
      <div class="reporte-header">
        <div class="reporte-titulo">
          <span class="reporte-id">Reporte #{{ r.idReporte }}</span>
          <span class="reporte-fecha">{{ r.fecha }}</span>
        </div>

        <div class="reporte-profesional">
          {{ r.nombreProfesional }}
        </div>
      </div>

      <!-- IMAGEN -->
      <div class="reporte-imagen" *ngIf="r.imagen">
        <img [src]="imagen(r.imagen)"
             alt="Imagen del reporte">
      </div>

      <!-- INFORME -->
      <div class="reporte-informe">
        {{ r.informe }}
      </div>

    </div>
  </div>

  <ng-template #sinReportes>
    <p>No hay reportes clínicos cargados.</p>
  </ng-template>

</div>
